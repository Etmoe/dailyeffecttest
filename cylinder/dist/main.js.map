{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./cylinder.js","webpack:///./node_modules/_@tweenjs_tween.js@17.4.0@@tweenjs/tween.js/src/Tween.js","webpack:///./node_modules/process/browser.js","webpack:///./src/math/Math.js","webpack:///./src/math/Matrix4.js","webpack:///./src/math/Vector3.js","webpack:///./src/math/Euler.js","webpack:///./src/math/Quaternion.js","webpack:///./src/Object3D.js","webpack:///./src/util/util.js","webpack:///./src/Face.js","webpack:///./src/Group.js","webpack:///./src/Light.js","webpack:///./src/Scene.js","webpack:///./src/Camera.js","webpack:///./src/Renderer.js","webpack:///./src/DirectionLight.js","webpack:///./src/AmbientLight.js","webpack:///./src/CONST.js","webpack:///./src/geometry/Box.js","webpack:///./src/geometry/Cylinder.js","webpack:///./src/math/Vector2.js","webpack:///./src/main.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","TWEEN","require","C3","stats","Stats","renderer","Renderer","lightEffect","containerElem","document","querySelector","camera","Camera","setPerspective","scene","Scene","directionLight","DirectionLight","Vector3","addLight","items","querySelectorAll","cylinder","Group","faces","item","face","Face","backside","frontElem","elem","frontInnerElem","backElem","backInnerElem","lightHandler","brightness","percent","Math","max","toFixed","blur","style","opacity","filter","concat","add","push","length","_loop","resize","containerWidth","offsetWidth","containerHeight","itemWidth","itemHeight","radius","height","setPosition","setNeedUpdate","forEach","width","parseInt","angle","PI","posAngle","initialZ","sin","initialRotateY","setRotationY","cos","render","ani","Ani","_classCallCheck","this","index","stepDur","spinDur","rotateTween","spinTween","tickT","tick","window","addEventListener","_this","remove","indexDiff","abs","currRotate","rotation","y","finalRotate","tweenObj","rotate","dur","min","tween","Tween","to","easing","Easing","Quadratic","Out","onUpdate","obj","onComplete","start","_this2","initRotate","console","log","_this3","cancelAnimationFrame","delta","last","Date","getTime","now","requestAnimationFrame","_tick","update","process","__WEBPACK_AMD_DEFINE_RESULT__","_Group","_tweens","_tweensAddedDuringUpdate","getAll","keys","map","tweenId","removeAll","getId","time","preserve","tweenIds","undefined","_isPlaying","a","_nextId","nextId","self","hrtime","performance","group","_object","_valuesStart","_valuesEnd","_valuesStartRepeat","_duration","_repeat","_repeatDelayTime","_yoyo","_reversed","_delayTime","_startTime","_easingFunction","Linear","None","_interpolationFunction","Interpolation","_chainedTweens","_onStartCallback","_onStartCallbackFired","_onUpdateCallback","_onRepeatCallback","_onCompleteCallback","_onStopCallback","_group","_id","isPlaying","properties","duration","parseFloat","Array","stop","stopChainedTweens","end","Infinity","numChainedTweens","delay","amount","repeat","times","repeatDelay","yoyo","easingFunction","interpolation","interpolationFunction","chain","arguments","onStart","callback","onRepeat","onStop","elapsed","charAt","isFinite","tmp","k","In","InOut","Cubic","Quartic","Quintic","Sinusoidal","Exponential","pow","Circular","sqrt","Elastic","Back","Bounce","v","f","floor","fn","Utils","Bezier","b","pw","bn","Bernstein","CatmullRom","p0","p1","fc","Factorial","p2","p3","v0","v1","t2","apply","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","args","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","chars","uuid","rnd","vector","matrix","x","z","quaternion","q","_Math","DEG2RAD","RAD2DEG","generateUUID","split","random","join","clamp","euclideanModulo","mapLinear","a1","a2","b1","b2","lerp","smoothstep","smootherstep","randInt","low","high","randFloat","randFloatSpread","range","degToRad","degrees","radToDeg","radians","isPowerOfTwo","nearestPowerOfTwo","round","LN2","nextPowerOfTwo","Matrix4","elements","error","Quaternion","w","_x","_y","_z","_w","Euler","order","_order","DefaultOrder","assign","isMatrix4","set","n11","n12","n13","n14","n21","n22","n23","n24","n31","n32","n33","n34","n41","n42","n43","n44","te","identity","clone","fromArray","copy","me","copyPosition","extractBasis","xAxis","yAxis","zAxis","setFromMatrixColumn","makeBasis","extractRotation","scaleX","scaleY","scaleZ","makeRotationFromEuler","euler","isEuler","ae","af","be","bf","ce","cf","de","df","ac","ad","bc","bd","makeRotationFromQuaternion","x2","y2","z2","xx","xy","xz","yy","yz","zz","wx","wy","wz","lookAt","eye","target","up","subVectors","lengthSq","normalize","crossVectors","multiply","warn","multiplyMatrices","premultiply","a11","a12","a13","a14","a21","a22","a23","a24","a31","a32","a33","a34","a41","a42","a43","a44","b11","b12","b13","b14","b21","b22","b23","b24","b31","b32","b33","b34","b41","b42","b43","b44","multiplyScalar","applyToBufferAttribute","attribute","count","getX","getY","getZ","applyMatrix4","setXYZ","determinant","transpose","getInverse","throwOnDegenerate","t11","t12","t13","t14","det","msg","detInv","scale","getMaxScaleOnAxis","scaleXSq","scaleYSq","scaleZSq","makeTranslation","makeRotationX","theta","makeRotationY","makeRotationZ","makeRotationAxis","axis","tx","ty","makeScale","makeShear","compose","position","decompose","sx","sy","sz","invSX","invSY","invSZ","setFromRotationMatrix","makePerspective","left","right","top","bottom","near","far","makeOrthographic","h","equals","offset","toArray","slerp","qa","qb","qm","slerpFlat","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","sqrSin","Number","EPSILON","atan2","tDir","defineProperties","onChangeCallback","constructor","setFromEuler","c1","c2","c3","s1","s2","s3","setFromAxisAngle","halfAngle","m11","m12","m13","m21","m22","m23","m31","m32","m33","trace","setFromUnitVectors","vFrom","vTo","dot","inverse","conjugate","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","cosHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","onChange","isVector3","setScalar","scalar","setX","setY","setZ","setComponent","getComponent","addVectors","addScalar","addScaledVector","sub","subScalar","multiplyVectors","applyEuler","applyQuaternion","applyAxisAngle","applyMatrix3","qx","qy","qz","qw","ix","iy","iz","iw","project","projectionMatrix","matrixWorld","unproject","transformDirection","divide","divideScalar","clampScalar","minVal","maxVal","clampLength","ceil","roundToZero","negate","lengthManhattan","setLength","alpha","lerpVectors","v2","cross","ax","ay","az","bx","by","bz","projectOnVector","projectOnPlane","planeNormal","reflect","normal","angleTo","acos","distanceTo","distanceToSquared","dx","dy","dz","distanceToManhattan","setFromSpherical","sinPhiRadius","phi","setFromCylindrical","setFromMatrixPosition","setFromMatrixScale","fromBufferAttribute","RotationOrders","asin","setFromQuaternion","setFromVector3","reorder","newOrder","toVector3","optionalResult","Object3D","worldPosition","modelMatrix","worldModelMatrix","modelMatrixNeedUpdate","worldModelMatrixNeedUpdate","normalNeedUpdate","userData","scaleMatrix","rotationMatrix","parent","getModelMatrix","getWorldModalMatrix","elemMatrixNeedUpdate","num","transform","setStyles","styles","options","Face_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","elemLightNeedUpdate","createElement","classList","util","overflow","box-sizing","_get","Group_classCallCheck","Group_possibleConstructorReturn","Group_getPrototypeOf","children","transform-style","Group_get","child","appendChild","Light","Light_classCallCheck","updated","backSide","container","Scene_classCallCheck","viewWrapperStyles","offsetHeight","viewWrapper","objs","lights","sizeUpdated","light","ambientLightIntensity","perspective","Camera_classCallCheck","lookAtPoint","viewMatrixNeedUpdate","viewMatrix","configUpdated","_ref","setLookAt","translateMatrix","Renderer_classCallCheck","clearColor","lightsUpdated","faceNormal","getWorldNormal","sumBrightness","calBrightness","setBrightness","updateElemBrightness","updateElemMatrix","setObj","viewMatrixUpdated","getViewMatrix","tan","fov","intensity","DirectionLight_classCallCheck","DirectionLight_possibleConstructorReturn","DirectionLight_getPrototypeOf","intense","lightPosition","cosOfAngle","AmbientLight","AmbientLight_classCallCheck","AmbientLight_possibleConstructorReturn","AmbientLight_getPrototypeOf","R360","R180","R150","R120","R90","R60","R45","R30","Box","depth","color","Box_classCallCheck","Box_possibleConstructorReturn","Box_getPrototypeOf","front","back","setSize","background","fontSize","textAlign","CONST","Cylinder","Cylinder_classCallCheck","Cylinder_possibleConstructorReturn","Cylinder_getPrototypeOf","createFaces","radiusTop","radiusBottom","radiusSegment","sideBackground","topBackground","bottomBackground","segmentRadian","segmentRadianHalf","cosSegmentRadianHalf","sinSegmentRadianHalf","topTriangleHeight","topTriangleWidth","bottomTriangleHeight","bottomTriangleWidth","maxTriangleWidth","endHeightSub","endWidthSub","endWidthSubHalf","endWidthSubHalfAbs","sideFaceRadian","atan","sideHeight","sideBaseMatrix","sideFaceStyles","-webkit-clip-path","background-size","sideFace","faceMatrix","setModelMatrix","open","topVertices","bottomVertices","topStyles","bottomStyles","startRadian","currentRadian","topClipStyle","vertice","bottomClipStyle","topFace","bottomFace","setRotation","Vector2","isVector2","rotateAround","center","__webpack_exports__","Face_Face","Group_Group","Camera_Camera","src_Renderer","Box_Box","Cylinder_Cylinder","CONST_namespaceObject","Vector3_Vector3"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\nconst TWEEN = require('@tweenjs/tween.js');\nconst C3 = require('./src/main.js');\n\nconst stats = new Stats();\n// document.body.appendChild(stats.dom);\n\nconst renderer = new C3.Renderer({\n  lightEffect: true\n});\n\nconst containerElem = document.querySelector('.container');\n\nconst camera = new C3.Camera(1500);\n\ncamera.setPerspective(1500);\n\nconst scene = new C3.Scene(containerElem);\n\nlet directionLight = new C3.DirectionLight(new C3.Vector3(0, 0, 1), 1);\nscene.addLight(directionLight);\n\nconst items = document.querySelectorAll('.item');\nconst cylinder = new C3.Group();\nconst faces = [];\n\nfor (let i = 0; i < items.length; i++) {\n\n  const item = items[i];\n  const face = new C3.Face(item);\n\n  face.backside = true;\n  face.frontElem = face.elem.querySelector('.item-front');\n  face.frontInnerElem = face.elem.querySelector('.item-front-inner');\n  face.backElem = face.elem.querySelector('.item-back');\n  face.backInnerElem = face.elem.querySelector('.item-back-inner');\n\n  face.lightHandler = function (elem, brightness) {\n    let percent = Math.max(brightness, 0.5).toFixed(2);\n    const blur = (1 - percent) * 4 + 'px';\n    face.frontInnerElem.style.opacity = 0.3 + percent * 0.7;\n    face.backInnerElem.style.opacity = 0.3 + percent * 0.7;\n    face.frontInnerElem.style.filter = `blur(${blur})`;\n    face.backInnerElem.style.filter = `blur(${blur})`;\n  };\n  cylinder.add(face);\n  faces.push(face);\n}\n\nscene.add(cylinder);\n\nfunction resize() {\n  const containerWidth = containerElem.offsetWidth;\n  const containerHeight = containerWidth * 4 / 3;\n  const itemWidth = containerWidth * 60 / 93;\n  const itemHeight = itemWidth * 4 / 3;\n\n  const radius = itemWidth * 0.95;\n\n  containerElem.style.height = containerHeight + 'px';\n\n  camera.setPosition(0, 0, radius);\n  camera.setNeedUpdate();\n  faces.forEach(face => {\n    face.elem.style.width = parseInt(itemWidth) + 'px';\n    face.elem.style.height = parseInt(itemHeight) + 'px'\n  });\n\n  for (let i = 0; i < items.length; i++) {\n    const face = faces[i];\n    const angle = Math.PI * 2 * (i / items.length);\n    const posAngle = angle + Math.PI / 2;\n\n    face.initialZ = Math.sin(posAngle) * radius;\n    face.initialRotateY = -angle;\n    face.setRotationY(-angle);\n    face.setPosition(Math.cos(posAngle) * radius, 0, Math.sin(posAngle) * radius);\n  }\n  renderer.render(scene, camera);\n  scene.resize();\n}\n\n// tick();\n\nclass Ani {\n  constructor() {\n    this.index = 0;\n    this.stepDur = 1000;\n    this.spinDur = 1000;\n    this.rotateTween = null;\n    this.spinTween = null;\n    this.tickT;\n    this.tick();\n    resize();\n    window.addEventListener('resize', resize);\n  }\n\n  setIndex(i) {\n    if (this.rotateTween) {\n      TWEEN.remove(this.rotateTween);\n    }\n    const indexDiff = Math.abs(this.index - i);\n\n    if (indexDiff === 0) {\n      return;\n    }\n\n    const currRotate = cylinder.rotation.y;\n    const finalRotate = i * Math.PI / 3;\n    const tweenObj = {\n      rotate: currRotate\n    };\n    const dur = Math.min(3000, this.stepDur * indexDiff);\n    const tween = new TWEEN.Tween(tweenObj)\n      .to({ rotate: finalRotate }, dur)\n      .easing(TWEEN.Easing.Quadratic.Out)\n      .onUpdate((obj) => {\n        cylinder.setRotationY(obj.rotate);\n        cylinder.setNeedUpdate();\n      })\n      .onComplete(() => {\n        this.rotateTween = null;\n      })\n      .start();\n\n    this.index = i;\n    this.rotateTween = tween;\n    this.tick();\n  }\n\n  spin() {\n    if (this.spinTween) {\n      TWEEN.remove(this.spinTween);\n    }\n    const index = this.index;\n    // const initRotate = faces[index].initialRotateY;\n    const initRotate = faces[index].rotation.y;\n    const finalRotate = initRotate + Math.PI;\n    const tweenObj = {\n      rotate: initRotate\n    };\n    const tween = new TWEEN.Tween(tweenObj)\n      .to({ rotate: finalRotate }, this.spinDur)\n      .easing(TWEEN.Easing.Quadratic.Out)\n      .onUpdate((obj) => {\n        console.log(obj);\n        faces[index].setRotationY(\n          obj.rotate\n        );\n      })\n      .onComplete(() => {\n        this.spinTween = null;\n      })\n      .start();\n\n    this.spinTween = tween;\n    this.tick();\n  }\n\n  tick() {\n    cancelAnimationFrame(this.tickT);\n\n    let last = new Date().getTime();\n    let now = new Date().getTime();\n    let delta;\n    const _tick = () => {\n      now = new Date().getTime();\n      delta = now - last;\n      last = now;\n      stats.update(delta);\n      TWEEN.update();\n      // console.log(delta);\n      renderer.render(scene, camera);\n      if (this.rotateTween || this.spinTween) {\n        this.tickT = window.requestAnimationFrame(_tick);\n      }\n    }\n\n    this.tickT = window.requestAnimationFrame(_tick);\n  }\n};\n\nconst ani = new Ani;\n\nwindow.ani = ani;\n// ani.setIndex(2);\n","/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\n\n\nvar _Group = function () {\n\tthis._tweens = {};\n\tthis._tweensAddedDuringUpdate = {};\n};\n\n_Group.prototype = {\n\tgetAll: function () {\n\n\t\treturn Object.keys(this._tweens).map(function (tweenId) {\n\t\t\treturn this._tweens[tweenId];\n\t\t}.bind(this));\n\n\t},\n\n\tremoveAll: function () {\n\n\t\tthis._tweens = {};\n\n\t},\n\n\tadd: function (tween) {\n\n\t\tthis._tweens[tween.getId()] = tween;\n\t\tthis._tweensAddedDuringUpdate[tween.getId()] = tween;\n\n\t},\n\n\tremove: function (tween) {\n\n\t\tdelete this._tweens[tween.getId()];\n\t\tdelete this._tweensAddedDuringUpdate[tween.getId()];\n\n\t},\n\n\tupdate: function (time, preserve) {\n\n\t\tvar tweenIds = Object.keys(this._tweens);\n\n\t\tif (tweenIds.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\ttime = time !== undefined ? time : TWEEN.now();\n\n\t\t// Tweens are updated in \"batches\". If you add a new tween during an update, then the\n\t\t// new tween will be updated in the next batch.\n\t\t// If you remove a tween during an update, it may or may not be updated. However,\n\t\t// if the removed tween was added during the current batch, then it will not be updated.\n\t\twhile (tweenIds.length > 0) {\n\t\t\tthis._tweensAddedDuringUpdate = {};\n\n\t\t\tfor (var i = 0; i < tweenIds.length; i++) {\n\n\t\t\t\tvar tween = this._tweens[tweenIds[i]];\n\n\t\t\t\tif (tween && tween.update(time) === false) {\n\t\t\t\t\ttween._isPlaying = false;\n\n\t\t\t\t\tif (!preserve) {\n\t\t\t\t\t\tdelete this._tweens[tweenIds[i]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttweenIds = Object.keys(this._tweensAddedDuringUpdate);\n\t\t}\n\n\t\treturn true;\n\n\t}\n};\n\nvar TWEEN = new _Group();\n\nTWEEN.Group = _Group;\nTWEEN._nextId = 0;\nTWEEN.nextId = function () {\n\treturn TWEEN._nextId++;\n};\n\n\n// Include a performance.now polyfill.\n// In node.js, use process.hrtime.\nif (typeof (self) === 'undefined' && typeof (process) !== 'undefined' && process.hrtime) {\n\tTWEEN.now = function () {\n\t\tvar time = process.hrtime();\n\n\t\t// Convert [seconds, nanoseconds] to milliseconds.\n\t\treturn time[0] * 1000 + time[1] / 1000000;\n\t};\n}\n// In a browser, use self.performance.now if it is available.\nelse if (typeof (self) !== 'undefined' &&\n         self.performance !== undefined &&\n\t\t self.performance.now !== undefined) {\n\t// This must be bound, because directly assigning this function\n\t// leads to an invocation exception in Chrome.\n\tTWEEN.now = self.performance.now.bind(self.performance);\n}\n// Use Date.now if it is available.\nelse if (Date.now !== undefined) {\n\tTWEEN.now = Date.now;\n}\n// Otherwise, use 'new Date().getTime()'.\nelse {\n\tTWEEN.now = function () {\n\t\treturn new Date().getTime();\n\t};\n}\n\n\nTWEEN.Tween = function (object, group) {\n\tthis._object = object;\n\tthis._valuesStart = {};\n\tthis._valuesEnd = {};\n\tthis._valuesStartRepeat = {};\n\tthis._duration = 1000;\n\tthis._repeat = 0;\n\tthis._repeatDelayTime = undefined;\n\tthis._yoyo = false;\n\tthis._isPlaying = false;\n\tthis._reversed = false;\n\tthis._delayTime = 0;\n\tthis._startTime = null;\n\tthis._easingFunction = TWEEN.Easing.Linear.None;\n\tthis._interpolationFunction = TWEEN.Interpolation.Linear;\n\tthis._chainedTweens = [];\n\tthis._onStartCallback = null;\n\tthis._onStartCallbackFired = false;\n\tthis._onUpdateCallback = null;\n\tthis._onRepeatCallback = null;\n\tthis._onCompleteCallback = null;\n\tthis._onStopCallback = null;\n\tthis._group = group || TWEEN;\n\tthis._id = TWEEN.nextId();\n\n};\n\nTWEEN.Tween.prototype = {\n\tgetId: function () {\n\t\treturn this._id;\n\t},\n\n\tisPlaying: function () {\n\t\treturn this._isPlaying;\n\t},\n\n\tto: function (properties, duration) {\n\n\t\tthis._valuesEnd = Object.create(properties);\n\n\t\tif (duration !== undefined) {\n\t\t\tthis._duration = duration;\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tduration: function duration(d) {\n\t\tthis._duration = d;\n\t\treturn this;\n\t},\n\n\tstart: function (time) {\n\n\t\tthis._group.add(this);\n\n\t\tthis._isPlaying = true;\n\n\t\tthis._onStartCallbackFired = false;\n\n\t\tthis._startTime = time !== undefined ? typeof time === 'string' ? TWEEN.now() + parseFloat(time) : time : TWEEN.now();\n\t\tthis._startTime += this._delayTime;\n\n\t\tfor (var property in this._valuesEnd) {\n\n\t\t\t// Check if an Array was provided as property value\n\t\t\tif (this._valuesEnd[property] instanceof Array) {\n\n\t\t\t\tif (this._valuesEnd[property].length === 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Create a local copy of the Array with the start value at the front\n\t\t\t\tthis._valuesEnd[property] = [this._object[property]].concat(this._valuesEnd[property]);\n\n\t\t\t}\n\n\t\t\t// If `to()` specifies a property that doesn't exist in the source object,\n\t\t\t// we should not set that property in the object\n\t\t\tif (this._object[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Save the starting value.\n\t\t\tthis._valuesStart[property] = this._object[property];\n\n\t\t\tif ((this._valuesStart[property] instanceof Array) === false) {\n\t\t\t\tthis._valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\n\t\t\t}\n\n\t\t\tthis._valuesStartRepeat[property] = this._valuesStart[property] || 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tif (!this._isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tthis._group.remove(this);\n\t\tthis._isPlaying = false;\n\n\t\tif (this._onStopCallback !== null) {\n\t\t\tthis._onStopCallback(this._object);\n\t\t}\n\n\t\tthis.stopChainedTweens();\n\t\treturn this;\n\n\t},\n\n\tend: function () {\n\n\t\tthis.update(Infinity);\n\t\treturn this;\n\n\t},\n\n\tstopChainedTweens: function () {\n\n\t\tfor (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\tthis._chainedTweens[i].stop();\n\t\t}\n\n\t},\n\n\tgroup: function (group) {\n\t\tthis._group = group;\n\t\treturn this;\n\t},\n\n\tdelay: function (amount) {\n\n\t\tthis._delayTime = amount;\n\t\treturn this;\n\n\t},\n\n\trepeat: function (times) {\n\n\t\tthis._repeat = times;\n\t\treturn this;\n\n\t},\n\n\trepeatDelay: function (amount) {\n\n\t\tthis._repeatDelayTime = amount;\n\t\treturn this;\n\n\t},\n\n\tyoyo: function (yoyo) {\n\n\t\tthis._yoyo = yoyo;\n\t\treturn this;\n\n\t},\n\n\teasing: function (easingFunction) {\n\n\t\tthis._easingFunction = easingFunction;\n\t\treturn this;\n\n\t},\n\n\tinterpolation: function (interpolationFunction) {\n\n\t\tthis._interpolationFunction = interpolationFunction;\n\t\treturn this;\n\n\t},\n\n\tchain: function () {\n\n\t\tthis._chainedTweens = arguments;\n\t\treturn this;\n\n\t},\n\n\tonStart: function (callback) {\n\n\t\tthis._onStartCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonUpdate: function (callback) {\n\n\t\tthis._onUpdateCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonRepeat: function onRepeat(callback) {\n\n\t\tthis._onRepeatCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonComplete: function (callback) {\n\n\t\tthis._onCompleteCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonStop: function (callback) {\n\n\t\tthis._onStopCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tupdate: function (time) {\n\n\t\tvar property;\n\t\tvar elapsed;\n\t\tvar value;\n\n\t\tif (time < this._startTime) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (this._onStartCallbackFired === false) {\n\n\t\t\tif (this._onStartCallback !== null) {\n\t\t\t\tthis._onStartCallback(this._object);\n\t\t\t}\n\n\t\t\tthis._onStartCallbackFired = true;\n\t\t}\n\n\t\telapsed = (time - this._startTime) / this._duration;\n\t\telapsed = (this._duration === 0 || elapsed > 1) ? 1 : elapsed;\n\n\t\tvalue = this._easingFunction(elapsed);\n\n\t\tfor (property in this._valuesEnd) {\n\n\t\t\t// Don't update properties that do not exist in the source object\n\t\t\tif (this._valuesStart[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar start = this._valuesStart[property] || 0;\n\t\t\tvar end = this._valuesEnd[property];\n\n\t\t\tif (end instanceof Array) {\n\n\t\t\t\tthis._object[property] = this._interpolationFunction(end, value);\n\n\t\t\t} else {\n\n\t\t\t\t// Parses relative end values with start as base (e.g.: +10, -3)\n\t\t\t\tif (typeof (end) === 'string') {\n\n\t\t\t\t\tif (end.charAt(0) === '+' || end.charAt(0) === '-') {\n\t\t\t\t\t\tend = start + parseFloat(end);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tend = parseFloat(end);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Protect against non numeric properties.\n\t\t\t\tif (typeof (end) === 'number') {\n\t\t\t\t\tthis._object[property] = start + (end - start) * value;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif (this._onUpdateCallback !== null) {\n\t\t\tthis._onUpdateCallback(this._object, elapsed);\n\t\t}\n\n\t\tif (elapsed === 1) {\n\n\t\t\tif (this._repeat > 0) {\n\n\t\t\t\tif (isFinite(this._repeat)) {\n\t\t\t\t\tthis._repeat--;\n\t\t\t\t}\n\n\t\t\t\t// Reassign starting values, restart by making startTime = now\n\t\t\t\tfor (property in this._valuesStartRepeat) {\n\n\t\t\t\t\tif (typeof (this._valuesEnd[property]) === 'string') {\n\t\t\t\t\t\tthis._valuesStartRepeat[property] = this._valuesStartRepeat[property] + parseFloat(this._valuesEnd[property]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this._yoyo) {\n\t\t\t\t\t\tvar tmp = this._valuesStartRepeat[property];\n\n\t\t\t\t\t\tthis._valuesStartRepeat[property] = this._valuesEnd[property];\n\t\t\t\t\t\tthis._valuesEnd[property] = tmp;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._valuesStart[property] = this._valuesStartRepeat[property];\n\n\t\t\t\t}\n\n\t\t\t\tif (this._yoyo) {\n\t\t\t\t\tthis._reversed = !this._reversed;\n\t\t\t\t}\n\n\t\t\t\tif (this._repeatDelayTime !== undefined) {\n\t\t\t\t\tthis._startTime = time + this._repeatDelayTime;\n\t\t\t\t} else {\n\t\t\t\t\tthis._startTime = time + this._delayTime;\n\t\t\t\t}\n\n\t\t\t\tif (this._onRepeatCallback !== null) {\n\t\t\t\t\tthis._onRepeatCallback(this._object);\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\n\t\t\t} else {\n\n\t\t\t\tif (this._onCompleteCallback !== null) {\n\n\t\t\t\t\tthis._onCompleteCallback(this._object);\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t\t\t// Make the chained tweens start exactly at the time they should,\n\t\t\t\t\t// even if the `update()` method was called way past the duration of the tween\n\t\t\t\t\tthis._chainedTweens[i].start(this._startTime + this._duration);\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n};\n\n\nTWEEN.Easing = {\n\n\tLinear: {\n\n\t\tNone: function (k) {\n\n\t\t\treturn k;\n\n\t\t}\n\n\t},\n\n\tQuadratic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k * (2 - k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * (--k * (k - 2) - 1);\n\n\t\t}\n\n\t},\n\n\tCubic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tQuartic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn 1 - (--k * k * k * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * ((k -= 2) * k * k * k - 2);\n\n\t\t}\n\n\t},\n\n\tQuintic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tSinusoidal: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.cos(k * Math.PI / 2);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sin(k * Math.PI / 2);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\treturn 0.5 * (1 - Math.cos(Math.PI * k));\n\n\t\t}\n\n\t},\n\n\tExponential: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k === 0 ? 0 : Math.pow(1024, k - 1);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k === 1 ? 1 : 1 - Math.pow(2, - 10 * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * Math.pow(1024, k - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (- Math.pow(2, - 10 * (k - 1)) + 2);\n\n\t\t}\n\n\t},\n\n\tCircular: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.sqrt(1 - k * k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sqrt(1 - (--k * k));\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn - 0.5 * (Math.sqrt(1 - k * k) - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n\n\t\t}\n\n\t},\n\n\tElastic: {\n\n\t\tIn: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tk *= 2;\n\n\t\t\tif (k < 1) {\n\t\t\t\treturn -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\t\t\t}\n\n\t\t\treturn 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;\n\n\t\t}\n\n\t},\n\n\tBack: {\n\n\t\tIn: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn k * k * ((s + 1) * k - s);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn --k * k * ((s + 1) * k + s) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tvar s = 1.70158 * 1.525;\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * (k * k * ((s + 1) * k - s));\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n\n\t\t}\n\n\t},\n\n\tBounce: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - TWEEN.Easing.Bounce.Out(1 - k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k < (1 / 2.75)) {\n\t\t\t\treturn 7.5625 * k * k;\n\t\t\t} else if (k < (2 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n\t\t\t} else if (k < (2.5 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n\t\t\t} else {\n\t\t\t\treturn 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n\t\t\t}\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k < 0.5) {\n\t\t\t\treturn TWEEN.Easing.Bounce.In(k * 2) * 0.5;\n\t\t\t}\n\n\t\t\treturn TWEEN.Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\n\n\t\t}\n\n\t}\n\n};\n\nTWEEN.Interpolation = {\n\n\tLinear: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.Linear;\n\n\t\tif (k < 0) {\n\t\t\treturn fn(v[0], v[1], f);\n\t\t}\n\n\t\tif (k > 1) {\n\t\t\treturn fn(v[m], v[m - 1], m - f);\n\t\t}\n\n\t\treturn fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n\n\t},\n\n\tBezier: function (v, k) {\n\n\t\tvar b = 0;\n\t\tvar n = v.length - 1;\n\t\tvar pw = Math.pow;\n\t\tvar bn = TWEEN.Interpolation.Utils.Bernstein;\n\n\t\tfor (var i = 0; i <= n; i++) {\n\t\t\tb += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n\t\t}\n\n\t\treturn b;\n\n\t},\n\n\tCatmullRom: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.CatmullRom;\n\n\t\tif (v[0] === v[m]) {\n\n\t\t\tif (k < 0) {\n\t\t\t\ti = Math.floor(f = m * (1 + k));\n\t\t\t}\n\n\t\t\treturn fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n\n\t\t} else {\n\n\t\t\tif (k < 0) {\n\t\t\t\treturn v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n\t\t\t}\n\n\t\t\tif (k > 1) {\n\t\t\t\treturn v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n\t\t\t}\n\n\t\t\treturn fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n\n\t\t}\n\n\t},\n\n\tUtils: {\n\n\t\tLinear: function (p0, p1, t) {\n\n\t\t\treturn (p1 - p0) * t + p0;\n\n\t\t},\n\n\t\tBernstein: function (n, i) {\n\n\t\t\tvar fc = TWEEN.Interpolation.Utils.Factorial;\n\n\t\t\treturn fc(n) / fc(i) / fc(n - i);\n\n\t\t},\n\n\t\tFactorial: (function () {\n\n\t\t\tvar a = [1];\n\n\t\t\treturn function (n) {\n\n\t\t\t\tvar s = 1;\n\n\t\t\t\tif (a[n]) {\n\t\t\t\t\treturn a[n];\n\t\t\t\t}\n\n\t\t\t\tfor (var i = n; i > 1; i--) {\n\t\t\t\t\ts *= i;\n\t\t\t\t}\n\n\t\t\t\ta[n] = s;\n\t\t\t\treturn s;\n\n\t\t\t};\n\n\t\t})(),\n\n\t\tCatmullRom: function (p0, p1, p2, p3, t) {\n\n\t\t\tvar v0 = (p2 - p0) * 0.5;\n\t\t\tvar v1 = (p3 - p1) * 0.5;\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t * t2;\n\n\t\t\treturn (2 * p1 - 2 * p2 + v0 + v1) * t3 + (- 3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n\n\t\t}\n\n\t}\n\n};\n\n// UMD (Universal Module Definition)\n(function (root) {\n\n\tif (typeof define === 'function' && define.amd) {\n\n\t\t// AMD\n\t\tdefine([], function () {\n\t\t\treturn TWEEN;\n\t\t});\n\n\t} else if (typeof module !== 'undefined' && typeof exports === 'object') {\n\n\t\t// Node.js\n\t\tmodule.exports = TWEEN;\n\n\t} else if (root !== undefined) {\n\n\t\t// Global variable\n\t\troot.TWEEN = TWEEN;\n\n\t}\n\n})(this);\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _Math = {\n\n\tDEG2RAD: Math.PI / 180,\n\tRAD2DEG: 180 / Math.PI,\n\n\tgenerateUUID: function () {\n\n\t\t// http://www.broofa.com/Tools/Math.uuid.htm\n\n\t\tvar chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split( '' );\n\t\tvar uuid = new Array( 36 );\n\t\tvar rnd = 0, r;\n\n\t\treturn function generateUUID() {\n\n\t\t\tfor ( var i = 0; i < 36; i ++ ) {\n\n\t\t\t\tif ( i === 8 || i === 13 || i === 18 || i === 23 ) {\n\n\t\t\t\t\tuuid[ i ] = '-';\n\n\t\t\t\t} else if ( i === 14 ) {\n\n\t\t\t\t\tuuid[ i ] = '4';\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( rnd <= 0x02 ) rnd = 0x2000000 + ( Math.random() * 0x1000000 ) | 0;\n\t\t\t\t\tr = rnd & 0xf;\n\t\t\t\t\trnd = rnd >> 4;\n\t\t\t\t\tuuid[ i ] = chars[ ( i === 19 ) ? ( r & 0x3 ) | 0x8 : r ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn uuid.join( '' );\n\n\t\t};\n\n\t}(),\n\n\tclamp: function ( value, min, max ) {\n\n\t\treturn Math.max( min, Math.min( max, value ) );\n\n\t},\n\n\t// compute euclidian modulo of m % n\n\t// https://en.wikipedia.org/wiki/Modulo_operation\n\n\teuclideanModulo: function ( n, m ) {\n\n\t\treturn ( ( n % m ) + m ) % m;\n\n\t},\n\n\t// Linear mapping from range <a1, a2> to range <b1, b2>\n\n\tmapLinear: function ( x, a1, a2, b1, b2 ) {\n\n\t\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n\t},\n\n\t// https://en.wikipedia.org/wiki/Linear_interpolation\n\n\tlerp: function ( x, y, t ) {\n\n\t\treturn ( 1 - t ) * x + t * y;\n\n\t},\n\n\t// http://en.wikipedia.org/wiki/Smoothstep\n\n\tsmoothstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * ( 3 - 2 * x );\n\n\t},\n\n\tsmootherstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n\t},\n\n\t// Random integer from <low, high> interval\n\n\trandInt: function ( low, high ) {\n\n\t\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n\t},\n\n\t// Random float from <low, high> interval\n\n\trandFloat: function ( low, high ) {\n\n\t\treturn low + Math.random() * ( high - low );\n\n\t},\n\n\t// Random float from <-range/2, range/2> interval\n\n\trandFloatSpread: function ( range ) {\n\n\t\treturn range * ( 0.5 - Math.random() );\n\n\t},\n\n\tdegToRad: function ( degrees ) {\n\n\t\treturn degrees * _Math.DEG2RAD;\n\n\t},\n\n\tradToDeg: function ( radians ) {\n\n\t\treturn radians * _Math.RAD2DEG;\n\n\t},\n\n\tisPowerOfTwo: function ( value ) {\n\n\t\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n\t},\n\n\tnearestPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.round( Math.log( value ) / Math.LN2 ) );\n\n\t},\n\n\tnextPowerOfTwo: function ( value ) {\n\n\t\tvalue --;\n\t\tvalue |= value >> 1;\n\t\tvalue |= value >> 2;\n\t\tvalue |= value >> 4;\n\t\tvalue |= value >> 8;\n\t\tvalue |= value >> 16;\n\t\tvalue ++;\n\n\t\treturn value;\n\n\t}\n\n};\n\n\nexport { _Math };\n","import { Vector3 } from './Vector3';\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author jordi_ros / http://plattsoft.com\n * @author D1plo1d / http://github.com/D1plo1d\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author timknip / http://www.floorplanner.com/\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Matrix4() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0, 0,\n\t\t0, 1, 0, 0,\n\t\t0, 0, 1, 0,\n\t\t0, 0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix4.prototype, {\n\n\tisMatrix4: true,\n\n\tset: function ( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t},\n\n\tcopyPosition: function ( m ) {\n\n\t\tvar te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\textractBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmakeBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0,       0,       0,       1\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\textractRotation: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function extractRotation( m ) {\n\n\t\t\tvar te = this.elements;\n\t\t\tvar me = m.elements;\n\n\t\t\tvar scaleX = 1 / v1.setFromMatrixColumn( m, 0 ).length();\n\t\t\tvar scaleY = 1 / v1.setFromMatrixColumn( m, 1 ).length();\n\t\t\tvar scaleZ = 1 / v1.setFromMatrixColumn( m, 2 ).length();\n\n\t\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\n\t\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\n\t\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmakeRotationFromEuler: function ( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\n\t\tvar x = euler.x, y = euler.y, z = euler.z;\n\t\tvar a = Math.cos( x ), b = Math.sin( x );\n\t\tvar c = Math.cos( y ), d = Math.sin( y );\n\t\tvar e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// last column\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// bottom row\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationFromQuaternion: function ( q ) {\n\n\t\tvar te = this.elements;\n\n\t\tvar x = q._x, y = q._y, z = q._z, w = q._w;\n\t\tvar x2 = x + x, y2 = y + y, z2 = z + z;\n\t\tvar xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tvar yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tvar wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tte[ 0 ] = 1 - ( yy + zz );\n\t\tte[ 4 ] = xy - wz;\n\t\tte[ 8 ] = xz + wy;\n\n\t\tte[ 1 ] = xy + wz;\n\t\tte[ 5 ] = 1 - ( xx + zz );\n\t\tte[ 9 ] = yz - wx;\n\n\t\tte[ 2 ] = xz - wy;\n\t\tte[ 6 ] = yz + wx;\n\t\tte[ 10 ] = 1 - ( xx + yy );\n\n\t\t// last column\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// bottom row\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tlookAt: function () {\n\n\t\tvar x = new Vector3();\n\t\tvar y = new Vector3();\n\t\tvar z = new Vector3();\n\n\t\treturn function lookAt( eye, target, up ) {\n\n\t\t\tvar te = this.elements;\n\n\t\t\tz.subVectors( eye, target );\n\n\t\t\tif ( z.lengthSq() === 0 ) {\n\n\t\t\t\t// eye and target are in the same position\n\n\t\t\t\tz.z = 1;\n\n\t\t\t}\n\n\t\t\tz.normalize();\n\t\t\tx.crossVectors( up, z );\n\n\t\t\tif ( x.lengthSq() === 0 ) {\n\n\t\t\t\t// up and z are parallel\n\n\t\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t\tz.x += 0.0001;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz.z += 0.0001;\n\n\t\t\t\t}\n\n\t\t\t\tz.normalize();\n\t\t\t\tx.crossVectors( up, z );\n\n\t\t\t}\n\n\t\t\tx.normalize();\n\t\t\ty.crossVectors( z, x );\n\n\t\t\tte[ 0 ] = x.x; te[ 4 ] = y.x; te[ 8 ] = z.x;\n\t\t\tte[ 1 ] = x.y; te[ 5 ] = y.y; te[ 9 ] = z.y;\n\t\t\tte[ 2 ] = x.z; te[ 6 ] = y.z; te[ 10 ] = z.z;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmultiply: function ( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tvar a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tvar b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tvar b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tvar b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tvar b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tapplyToBufferAttribute: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function applyToBufferAttribute( attribute ) {\n\n\t\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\tv1.x = attribute.getX( i );\n\t\t\t\tv1.y = attribute.getY( i );\n\t\t\t\tv1.z = attribute.getZ( i );\n\n\t\t\t\tv1.applyMatrix4( this );\n\n\t\t\t\tattribute.setXYZ( i, v1.x, v1.y, v1.z );\n\n\t\t\t}\n\n\t\t\treturn attribute;\n\n\t\t};\n\n\t}(),\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tvar n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tvar n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tvar n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar te = this.elements;\n\t\tvar tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tsetPosition: function ( v ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 12 ] = v.x;\n\t\tte[ 13 ] = v.y;\n\t\tte[ 14 ] = v.z;\n\n\t\treturn this;\n\n\t},\n\n\tgetInverse: function ( m, throwOnDegenerate ) {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tvar te = this.elements,\n\t\t\tme = m.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ], n41 = me[ 3 ],\n\t\t\tn12 = me[ 4 ], n22 = me[ 5 ], n32 = me[ 6 ], n42 = me[ 7 ],\n\t\t\tn13 = me[ 8 ], n23 = me[ 9 ], n33 = me[ 10 ], n43 = me[ 11 ],\n\t\t\tn14 = me[ 12 ], n24 = me[ 13 ], n34 = me[ 14 ], n44 = me[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tvar det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnDegenerate === true ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\treturn this.identity();\n\n\t\t}\n\n\t\tvar detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( v ) {\n\n\t\tvar te = this.elements;\n\t\tvar x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t},\n\n\tgetMaxScaleOnAxis: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tvar scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tvar scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t},\n\n\tmakeTranslation: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationX: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0,  0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s,  c, 0,\n\t\t\t0, 0,  0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationY: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationZ: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts,  c, 0, 0,\n\t\t\t0,  0, 1, 0,\n\t\t\t0,  0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationAxis: function ( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tvar c = Math.cos( angle );\n\t\tvar s = Math.sin( angle );\n\t\tvar t = 1 - c;\n\t\tvar x = axis.x, y = axis.y, z = axis.z;\n\t\tvar tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\t return this;\n\n\t},\n\n\tmakeScale: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeShear: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, y, z, 0,\n\t\t\tx, 1, z, 0,\n\t\t\tx, y, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tcompose: function ( position, quaternion, scale ) {\n\n\t\tthis.makeRotationFromQuaternion( quaternion );\n\t\tthis.scale( scale );\n\t\tthis.setPosition( position );\n\n\t\treturn this;\n\n\t},\n\n\tdecompose: function () {\n\n\t\tvar vector = new Vector3();\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function decompose( position, quaternion, scale ) {\n\n\t\t\tvar te = this.elements;\n\n\t\t\tvar sx = vector.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\t\tvar sy = vector.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\t\tvar sz = vector.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t\t// if determine is negative, we need to invert one scale\n\t\t\tvar det = this.determinant();\n\t\t\tif ( det < 0 ) sx = - sx;\n\n\t\t\tposition.x = te[ 12 ];\n\t\t\tposition.y = te[ 13 ];\n\t\t\tposition.z = te[ 14 ];\n\n\t\t\t// scale the rotation part\n\t\t\tmatrix.copy( this );\n\n\t\t\tvar invSX = 1 / sx;\n\t\t\tvar invSY = 1 / sy;\n\t\t\tvar invSZ = 1 / sz;\n\n\t\t\tmatrix.elements[ 0 ] *= invSX;\n\t\t\tmatrix.elements[ 1 ] *= invSX;\n\t\t\tmatrix.elements[ 2 ] *= invSX;\n\n\t\t\tmatrix.elements[ 4 ] *= invSY;\n\t\t\tmatrix.elements[ 5 ] *= invSY;\n\t\t\tmatrix.elements[ 6 ] *= invSY;\n\n\t\t\tmatrix.elements[ 8 ] *= invSZ;\n\t\t\tmatrix.elements[ 9 ] *= invSZ;\n\t\t\tmatrix.elements[ 10 ] *= invSZ;\n\n\t\t\tquaternion.setFromRotationMatrix( matrix );\n\n\t\t\tscale.x = sx;\n\t\t\tscale.y = sy;\n\t\t\tscale.z = sz;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmakePerspective: function ( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\t\tvar x = 2 * near / ( right - left );\n\t\tvar y = 2 * near / ( top - bottom );\n\n\t\tvar a = ( right + left ) / ( right - left );\n\t\tvar b = ( top + bottom ) / ( top - bottom );\n\t\tvar c = - ( far + near ) / ( far - near );\n\t\tvar d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t},\n\n\tmakeOrthographic: function ( left, right, top, bottom, near, far ) {\n\n\t\tvar te = this.elements;\n\t\tvar w = 1.0 / ( right - left );\n\t\tvar h = 1.0 / ( top - bottom );\n\t\tvar p = 1.0 / ( far - near );\n\n\t\tvar x = ( right + left ) * w;\n\t\tvar y = ( top + bottom ) * h;\n\t\tvar z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = matrix.elements;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n\nexport { Matrix4 };\n","import { _Math } from './Math';\nimport { Matrix4 } from './Matrix4';\nimport { Quaternion } from './Quaternion';\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Vector3( x, y, z ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\n}\n\nObject.assign( Vector3.prototype, {\n\n\tisVector3: true,\n\n\tset: function ( x, y, z ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyVectors: function ( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyEuler: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function applyEuler( euler ) {\n\n\t\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t\t}\n\n\t\t\treturn this.applyQuaternion( quaternion.setFromEuler( euler ) );\n\n\t\t};\n\n\t}(),\n\n\tapplyAxisAngle: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function applyAxisAngle( axis, angle ) {\n\n\t\t\treturn this.applyQuaternion( quaternion.setFromAxisAngle( axis, angle ) );\n\n\t\t};\n\n\t}(),\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tvar w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ]  * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ]  * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tvar ix =  qw * x + qy * z - qz * y;\n\t\tvar iy =  qw * y + qz * x - qx * z;\n\t\tvar iz =  qw * z + qx * y - qy * x;\n\t\tvar iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t},\n\n\tproject: function () {\n\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function project( camera ) {\n\n\t\t\tmatrix.multiplyMatrices( camera.projectionMatrix, matrix.getInverse( camera.matrixWorld ) );\n\t\t\treturn this.applyMatrix4( matrix );\n\n\t\t};\n\n\t}(),\n\n\tunproject: function () {\n\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function unproject( camera ) {\n\n\t\t\tmatrix.multiplyMatrices( camera.matrixWorld, matrix.getInverse( camera.projectionMatrix ) );\n\t\t\treturn this.applyMatrix4( matrix );\n\n\t\t};\n\n\t}(),\n\n\ttransformDirection: function ( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ]  * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ]  * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function () {\n\n\t\tvar min = new Vector3();\n\t\tvar max = new Vector3();\n\n\t\treturn function clampScalar( minVal, maxVal ) {\n\n\t\t\tmin.set( minVal, minVal, minVal );\n\t\t\tmax.set( maxVal, maxVal, maxVal );\n\n\t\t\treturn this.clamp( min, max );\n\n\t\t};\n\n\t}(),\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t},\n\n\t// TODO lengthSquared?\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t},\n\n\tlengthManhattan: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tcross: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\n\t\tthis.x = y * v.z - z * v.y;\n\t\tthis.y = z * v.x - x * v.z;\n\t\tthis.z = x * v.y - y * v.x;\n\n\t\treturn this;\n\n\t},\n\n\tcrossVectors: function ( a, b ) {\n\n\t\tvar ax = a.x, ay = a.y, az = a.z;\n\t\tvar bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t},\n\n\tprojectOnVector: function ( vector ) {\n\n\t\tvar scalar = vector.dot( this ) / vector.lengthSq();\n\n\t\treturn this.copy( vector ).multiplyScalar( scalar );\n\n\t},\n\n\tprojectOnPlane: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function projectOnPlane( planeNormal ) {\n\n\t\t\tv1.copy( this ).projectOnVector( planeNormal );\n\n\t\t\treturn this.sub( v1 );\n\n\t\t};\n\n\t}(),\n\n\treflect: function () {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function reflect( normal ) {\n\n\t\t\treturn this.sub( v1.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t\t};\n\n\t}(),\n\n\tangleTo: function ( v ) {\n\n\t\tvar theta = this.dot( v ) / ( Math.sqrt( this.lengthSq() * v.lengthSq() ) );\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( _Math.clamp( theta, - 1, 1 ) );\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t},\n\n\tdistanceToManhattan: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t},\n\n\tsetFromSpherical: function ( s ) {\n\n\t\tvar sinPhiRadius = Math.sin( s.phi ) * s.radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( s.theta );\n\t\tthis.y = Math.cos( s.phi ) * s.radius;\n\t\tthis.z = sinPhiRadius * Math.cos( s.theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCylindrical: function ( c ) {\n\n\t\tthis.x = c.radius * Math.sin( c.theta );\n\t\tthis.y = c.y;\n\t\tthis.z = c.radius * Math.cos( c.theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixPosition: function ( m ) {\n\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixScale: function ( m ) {\n\n\t\tvar sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tvar sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tvar sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixColumn: function ( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n\nexport { Vector3 };\n","import { Quaternion } from './Quaternion';\nimport { Vector3 } from './Vector3';\nimport { Matrix4 } from './Matrix4';\nimport { _Math } from './Math';\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nfunction Euler( x, y, z, order ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._order = order || Euler.DefaultOrder;\n\n}\n\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nEuler.DefaultOrder = 'XYZ';\n\nObject.defineProperties( Euler.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\torder: {\n\n\t\tget: function () {\n\n\t\t\treturn this._order;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._order = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Euler.prototype, {\n\n\tisEuler: true,\n\n\tset: function ( x, y, z, order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order || this._order;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t},\n\n\tcopy: function ( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m, order, update ) {\n\n\t\tvar clamp = _Math.clamp;\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements;\n\t\tvar m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tvar m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tvar m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\torder = order || this._order;\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m13 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m23 ) < 0.99999 ) {\n\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m32 ) < 0.99999 ) {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = 0;\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m31 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m21 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m12 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._y = 0;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() given unsupported order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update !== false ) this.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromQuaternion: function () {\n\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function setFromQuaternion( q, order, update ) {\n\n\t\t\tmatrix.makeRotationFromQuaternion( q );\n\n\t\t\treturn this.setFromRotationMatrix( matrix, order, update );\n\n\t\t};\n\n\t}(),\n\n\tsetFromVector3: function ( v, order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order || this._order );\n\n\t},\n\n\treorder: function () {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\tvar q = new Quaternion();\n\n\t\treturn function reorder( newOrder ) {\n\n\t\t\tq.setFromEuler( this );\n\n\t\t\treturn this.setFromQuaternion( q, newOrder );\n\n\t\t};\n\n\t}(),\n\n\tequals: function ( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t},\n\n\tfromArray: function ( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t},\n\n\ttoVector3: function ( optionalResult ) {\n\n\t\tif ( optionalResult ) {\n\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\n\n\t\t} else {\n\n\t\t\treturn new Vector3( this._x, this._y, this._z );\n\n\t\t}\n\n\t},\n\n\tonChange: function ( callback ) {\n\n\t\tthis.onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tonChangeCallback: function () {}\n\n} );\n\n\nexport { Euler };\n","import { Vector3 } from './Vector3';\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nfunction Quaternion( x, y, z, w ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.assign( Quaternion, {\n\n\tslerp: function ( qa, qb, qm, t ) {\n\n\t\treturn qm.copy( qa ).slerp( qb, t );\n\n\t},\n\n\tslerpFlat: function ( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tvar x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ],\n\n\t\t\tx1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tvar s = 1 - t,\n\n\t\t\t\tcos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tvar sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tvar tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tvar f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n} );\n\nObject.defineProperties( Quaternion.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tw: {\n\n\t\tget: function () {\n\n\t\t\treturn this._w;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._w = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Quaternion.prototype, {\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t},\n\n\tcopy: function ( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromEuler: function ( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar x = euler._x, y = euler._y, z = euler._z, order = euler.order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tvar cos = Math.cos;\n\t\tvar sin = Math.sin;\n\n\t\tvar c1 = cos( x / 2 );\n\t\tvar c2 = cos( y / 2 );\n\t\tvar c3 = cos( z / 2 );\n\n\t\tvar s1 = sin( x / 2 );\n\t\tvar s2 = sin( y / 2 );\n\t\tvar s3 = sin( z / 2 );\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t}\n\n\t\tif ( update !== false ) this.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromAxisAngle: function ( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tvar halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33,\n\t\t\ts;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\ts = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromUnitVectors: function () {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tvar v1 = new Vector3();\n\t\tvar r;\n\n\t\tvar EPS = 0.000001;\n\n\t\treturn function setFromUnitVectors( vFrom, vTo ) {\n\n\t\t\tif ( v1 === undefined ) v1 = new Vector3();\n\n\t\t\tr = vFrom.dot( vTo ) + 1;\n\n\t\t\tif ( r < EPS ) {\n\n\t\t\t\tr = 0;\n\n\t\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\t\tv1.set( - vFrom.y, vFrom.x, 0 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv1.set( 0, - vFrom.z, vFrom.y );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tv1.crossVectors( vFrom, vTo );\n\n\t\t\t}\n\n\t\t\tthis._x = v1.x;\n\t\t\tthis._y = v1.y;\n\t\t\tthis._z = v1.z;\n\t\t\tthis._w = r;\n\n\t\t\treturn this.normalize();\n\n\t\t};\n\n\t}(),\n\n\tinverse: function () {\n\n\t\treturn this.conjugate().normalize();\n\n\t},\n\n\tconjugate: function () {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\tvar l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t},\n\n\tpremultiply: function ( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t},\n\n\tmultiplyQuaternions: function ( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tvar qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tvar qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tslerp: function ( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tvar x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tvar cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar sinHalfTheta = Math.sqrt( 1.0 - cosHalfTheta * cosHalfTheta );\n\n\t\tif ( Math.abs( sinHalfTheta ) < 0.001 ) {\n\n\t\t\tthis._w = 0.5 * ( w + this._w );\n\t\t\tthis._x = 0.5 * ( x + this._x );\n\t\t\tthis._y = 0.5 * ( y + this._y );\n\t\t\tthis._z = 0.5 * ( z + this._z );\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tvar ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t},\n\n\tonChange: function ( callback ) {\n\n\t\tthis.onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tonChangeCallback: function () {}\n\n} );\n\n\nexport { Quaternion };\n","import { Vector3 } from './math/Vector3.js';\r\nimport { Matrix4 } from './math/Matrix4.js';\r\nimport { Euler } from './math/Euler.js';\r\n\r\nexport default class Object3D {\r\n  constructor() {\r\n    this.position = new Vector3(0, 0, 0);\r\n    this.worldPosition = new Vector3(0, 0, 0);\r\n    this.rotation = new Euler(0, 0, 0);\r\n    this.scale = new Vector3(1, 1, 1);\r\n\r\n    this.modelMatrix = new Matrix4();\r\n    this.worldModelMatrix = new Matrix4();\r\n    this.normal = new Vector3(0, 0, 1);\r\n\r\n    this.modelMatrixNeedUpdate = false;\r\n    this.worldModelMatrixNeedUpdate = false;\r\n    this.normalNeedUpdate = false;\r\n\r\n    this.elem = null;\r\n    this.userData = {};\r\n  }\r\n\r\n  setNeedUpdate() {\r\n    this.modelMatrixNeedUpdate = true;\r\n    this.worldModelMatrixNeedUpdate = true;\r\n    this.normalNeedUpdate = true;\r\n  }\r\n\r\n  setPosition(x, y, z) {\r\n    this.position.set(x, y, z);\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n  setPositionX(x) {\r\n    this.position.x = x;\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n  setPositionY(y) {\r\n    this.position.y = y;\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n  setPositionZ(z) {\r\n    this.position.z = z;\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n\r\n  setRotation(x, y, z) {\r\n    this.rotation.set(x, y, z);\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n  setRotationX(x) {\r\n    this.rotation.x = x;\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n  setRotationY(y) {\r\n    this.rotation.y = y;\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n  setRotationZ(z) {\r\n    this.rotation.z = z;\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n\r\n  setScale(x, y, z) {\r\n    this.scale.set(x, y, z);\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n  setScaleX(x) {\r\n    this.scale.x = x;\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n  setScaleY(y) {\r\n    this.scale.y = y;\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n  setScaleZ(z) {\r\n    this.scale.z = z;\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n  getModelMatrix() {\r\n    if (!this.modelMatrixNeedUpdate) {\r\n      return this.modelMatrix;\r\n    }\r\n\r\n    let position = this.position.clone();\r\n    let rotation = this.rotation.clone();\r\n    let scale = this.scale.clone();\r\n\r\n    // position.y *= -1;\r\n    // rotation.y *= -1;\r\n    // scale.y *= -1;\r\n\r\n    let scaleMatrix = new Matrix4().makeScale(scale.x, scale.y, scale.z);\r\n    let rotationMatrix = new Matrix4().makeRotationFromEuler(rotation);\r\n    let translateMatrix = new Matrix4().makeTranslation(position.x, position.y, position.z);\r\n\r\n    let modelMatrix = translateMatrix.multiply(rotationMatrix).multiply(scaleMatrix);\r\n    // let modelMatrix = rotationMatrix.multiply(translateMatrix).multiply(scaleMatrix);\r\n\r\n    this.modelMatrix = modelMatrix.clone();\r\n    this.modelMatrixNeedUpdate = false;\r\n    return modelMatrix;\r\n  }\r\n\r\n  getWorldModalMatrix() {\r\n    if (!this.worldModelMatrixNeedUpdate) {\r\n      return this.worldModelMatrix;\r\n    }\r\n\r\n    let parent = this.parent;\r\n    let matrix = this.getModelMatrix();\r\n\r\n    if (parent) {\r\n      matrix = new Matrix4().multiplyMatrices(parent.getWorldModalMatrix(), matrix);\r\n    }\r\n\r\n    this.worldModelMatrixNeedUpdate = false;\r\n    this.worldModelMatrix = matrix.clone();\r\n    return matrix;\r\n  }\r\n\r\n  getWorldNormal() {\r\n    if (!this.normalNeedUpdate) {\r\n      return this.normal;\r\n    }\r\n\r\n    let start = new Vector3(0, 0, 0);\r\n    let end = new Vector3(0, 0, 1);\r\n    let worldModelMatrix = this.getWorldModalMatrix();\r\n\r\n    start = start.applyMatrix4(worldModelMatrix);\r\n    end = end.applyMatrix4(worldModelMatrix);\r\n\r\n    this.normal = new Vector3().subVectors(end, start);\r\n    this.normalNeedUpdate = false;\r\n    return this.normal.clone();\r\n  }\r\n\r\n  setModelMatrix(matrix) {\r\n    this.modelMatrix = matrix;\r\n\r\n    // todos: 根据 matrix 设置 position rotation scale\r\n\r\n    this.elemMatrixNeedUpdate = true;\r\n  }\r\n\r\n  updateElemMatrix() {\r\n    if (this.elemMatrixNeedUpdate) {\r\n      let modelMatrix = this.getModelMatrix().elements.map(num => num.toFixed(6));\r\n      this.elem.style.transform = `translate(-50%, -50%) matrix3d(${modelMatrix.join(',')})`;\r\n      this.elemMatrixNeedUpdate = false;\r\n    }\r\n  }\r\n\r\n}","export function setStyles(elem, styles) {\n  for (let item in styles) {\n    let value = styles[item];\n\n    if (typeof value === 'number') {\n      value += 'px';\n    }\n\n    elem.style[item] = value;\n  }\n}","import Object3D from './Object3D.js';\r\nimport * as util from './util/util.js';\r\n\r\nexport default class Face extends Object3D {\r\n  constructor(elem, options = {}) {\r\n    super();\r\n    this.options = options;\r\n    this.elemMatrixNeedUpdate = true; // 元素 Matrix 是否需要更新\r\n    this.elemLightNeedUpdate = true; // 元素 亮度 是否需要更新\r\n    this.brightness = 1; // 元素亮度\r\n    this.backside = false;\r\n    this.lightHandler; // 自定义光照处理，接受 brightness 作为参数\r\n    \r\n    const faceStyles = {\r\n      position: 'absolute',\r\n      top: '50%',\r\n      left: '50%',\r\n      overflow: 'hidden',\r\n      'box-sizing': 'border-box'\r\n    };\r\n\r\n    this.elem = elem || document.createElement('div');\r\n    if (this.options.name) {\r\n      this.elem.classList.add(`c3-face-${this.options.name}`);\r\n    }\r\n    util.setStyles(this.elem, faceStyles);\r\n    \r\n  }\r\n\r\n  setNeedUpdate() {\r\n    super.setNeedUpdate();\r\n    this.elemMatrixNeedUpdate = true;\r\n    this.elemLightNeedUpdate = true;\r\n  }\r\n\r\n  setBrightness(brightness) {\r\n    if (this.brightness !== brightness) {\r\n      this.brightness = brightness\r\n      this.elemLightNeedUpdate = true;\r\n    }\r\n  }\r\n\r\n  updateElemBrightness() {\r\n    if (this.elemLightNeedUpdate) {\r\n      if (typeof this.lightHandler === 'function') {\r\n        this.lightHandler(this.elem, this.brightness);\r\n      } else {\r\n        this.elem.style.filter = `brightness(${this.brightness})`;\r\n      }\r\n      \r\n      this.elemLightNeedUpdate = false;\r\n    }\r\n  }\r\n\r\n}","import Object3D from './Object3D.js';\r\nimport * as util from './util/util.js';\r\n\r\nexport default class Group extends Object3D {\r\n  constructor(elem) {\r\n    super();\r\n    this.elemMatrixNeedUpdate = true; // 元素 Matrix 是否需要更新\r\n\r\n    this.children = [];\r\n    this.elem = elem || document.createElement('div');\r\n\r\n    const groupStyle = {\r\n      position: 'absolute',\r\n      top: '50%',\r\n      left: '50%',\r\n      'transform-style': 'preserve-3d'\r\n    };\r\n\r\n    util.setStyles(this.elem, groupStyle);\r\n    \r\n  }\r\n\r\n  setNeedUpdate() {\r\n    // overwrite\r\n    super.setNeedUpdate();\r\n    this.elemMatrixNeedUpdate = true;\r\n\r\n    this.children.forEach(child => {\r\n      child.normalNeedUpdate = true;\r\n      child.worldModelMatrixNeedUpdate = true;\r\n    });\r\n  }\r\n\r\n  add(obj) {\r\n    this.children.push(obj);\r\n    obj.parent = this;\r\n\r\n    if (obj.elem) {\r\n      this.elem.appendChild(obj.elem);\r\n    }\r\n  }\r\n\r\n  // updateElemMatrix() {\r\n  //   if (this.elemMatrixNeedUpdate) {\r\n  //     let modelMatrix = this.getModelMatrix().elements.map(num => num.toFixed(6));\r\n      \r\n  //     this.elem.style.transform = `translate(-50%, -50%) matrix3d(${modelMatrix.join(',')})`;\r\n  //     this.elemMatrixNeedUpdate = false;\r\n  //   }\r\n  // }\r\n\r\n\r\n}","import { Vector3 } from './math/Vector3.js';\n\nexport default class Light {\n  constructor() {\n    this.updated = true;\n  }\n\n  setNeedUpdate() {\n    this.updated = true;;\n  }\n\n  calBrightness(position, normal, backSide) {\n    // overwrite\n\n    return 0;\n  }\n\n}","import Group from './Group.js';\r\nimport Light from './Light.js'\r\n\r\nexport default class Scene {\r\n  constructor(container) {\r\n    let viewWrapperStyles = {\r\n      'position': 'absolute',\r\n      'top': 0,\r\n      'left': 0,\r\n      'width': '100%',\r\n      'height': '100%',\r\n      'transform-style': 'preserve-3d'\r\n    };\r\n\r\n    this.container = container;\r\n    this.width = this.container.offsetWidth;\r\n    this.height = this.container.offsetHeight;\r\n\r\n    this.viewWrapper = document.createElement('div');\r\n    Object.assign(viewWrapperStyles, {\r\n      width: this.width,\r\n      height: this.height\r\n    });\r\n    for (let item in viewWrapperStyles) {\r\n      let value = viewWrapperStyles[item];\r\n\r\n      if (typeof value === 'number') {\r\n        value += 'px';\r\n      }\r\n\r\n      this.viewWrapper.style[item] = value;\r\n    }\r\n\r\n    this.container.appendChild(this.viewWrapper);\r\n    this.objs = [];\r\n    this.lights = [];\r\n\r\n    this.sizeUpdated = true;\r\n  }\r\n\r\n  resize() {\r\n    let viewWrapperStyles = {\r\n      'position': 'absolute',\r\n      'top': 0,\r\n      'left': 0,\r\n      'width': '100%',\r\n      'height': '100%',\r\n      'transform-style': 'preserve-3d'\r\n    };\r\n\r\n    this.width = this.container.offsetWidth;\r\n    this.height = this.container.offsetHeight;\r\n\r\n    Object.assign(viewWrapperStyles, {\r\n      width: this.width,\r\n      height: this.height\r\n    });\r\n    for (let item in viewWrapperStyles) {\r\n      let value = viewWrapperStyles[item];\r\n\r\n      if (typeof value === 'number') {\r\n        value += 'px';\r\n      }\r\n\r\n      this.viewWrapper.style[item] = value;\r\n    }\r\n    this.sizeUpdated = true;\r\n  }\r\n\r\n  add(obj) {\r\n\r\n    // let add = (o) => {\r\n    //   if (o instanceof Group) {\r\n    //     o.children.forEach(oc => add(oc));\r\n    //   } else {\r\n    //     this.viewWrapper.appendChild(o.elem);\r\n    //     this.faces.push(o);\r\n    //   }\r\n    // }\r\n    // add(obj);\r\n    \r\n    this.objs.push(obj);\r\n    if (obj.elem) {\r\n      this.viewWrapper.appendChild(obj.elem);\r\n    }\r\n  }\r\n\r\n  addLight(light) {\r\n    this.lights.push(light);\r\n  }\r\n\r\n  setAmbientLightIntensity(ambientLightIntensity) {\r\n    this.ambientLightIntensity = ambientLightIntensity;\r\n  }\r\n\r\n}","import { Vector3 } from './math/Vector3.js';\r\nimport { Matrix4 } from './math/Matrix4.js';\r\n\r\nexport default class Camera {\r\n  constructor(perspective) {\r\n\r\n    this.position = new Vector3(0, 0, 0);\r\n    this.lookAtPoint = new Vector3(0, 0, -1);\r\n    this.up = new Vector3(0, 1, 0);\r\n    this.viewMatrixNeedUpdate = true;\r\n    this.viewMatrix = new Matrix4();\r\n\r\n    this.perspective = perspective;\r\n    this.configUpdated = true;\r\n  }\r\n\r\n  setPerspective(perspective) {\r\n    this.perspective = perspective;\r\n    this.configUpdated = true;\r\n  }\r\n\r\n  setNeedUpdate() {\r\n    this.viewMatrixNeedUpdate = true;\r\n  }\r\n\r\n  setPosition(x, y, z) {\r\n    this.position.set(x, y, z);\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n  setPositionX(x) {\r\n    this.position.x = x;\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n  setPositionY(y) {\r\n    this.position.y = y;\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n  setPositionZ(z) {\r\n    this.position.z = z;\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n  translateX(x) {\r\n    this.position.x += x;\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n  translateY(y) {\r\n    this.position.y += y;\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n  translateZ(z) {\r\n    this.position.z += z;\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n  setLookAt(x, y, z) {\r\n    this.lookAtPoint.set(x, y, z);\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n  lookAt({x, y, z}) {\r\n    // alias for setLookAt\r\n    this.setLookAt(x, y, z);\r\n  }\r\n\r\n  setLookAtX(x) {\r\n    this.lookAtPoint.x = x;\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n  setLookAtY(y) {\r\n    this.lookAtPoint.y = y;\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n  setLookAtZ(z) {\r\n    this.lookAtPoint.z = z;\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n  setUp(x, y, z) {\r\n    this.up.set(x, y, z);\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n  setUpX(x) {\r\n    this.up.x = x;\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n  setUpY(y) {\r\n    this.up.y = y;\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n  setUpZ(z) {\r\n    this.up.z = z;\r\n    this.setNeedUpdate();\r\n  }\r\n\r\n  getViewMatrix() {\r\n\r\n    if (!this.viewMatrixNeedUpdate) {\r\n      return this.viewMatrix;\r\n    } \r\n\r\n    let position = this.position.clone();\r\n    let up = this.up.clone();\r\n    let lookAtPoint = this.lookAtPoint.clone();\r\n\r\n    // position.y *= -1;\r\n    // up.y *= -1;\r\n    // lookAtPoint.y *= -1;\r\n\r\n    let translateMatrix = new Matrix4().makeTranslation(position.x, position.y, position.z);\r\n    let viewMatrix = new Matrix4().lookAt(position, lookAtPoint, up);\r\n    this.viewMatrixNeedUpdate = false;\r\n\r\n    this.viewMatrix = translateMatrix.multiply(viewMatrix);\r\n\r\n    this.viewMatrix.getInverse(this.viewMatrix);\r\n    return this.viewMatrix.clone();\r\n  }\r\n  \r\n\r\n}","import Group from './Group.js';\r\nimport Face from './Face.js';\r\n\r\nclass Renderer {\r\n  constructor(options) {\r\n    let defaults = {\r\n      lightEffect: false,\r\n      clearColor: ''\r\n    };\r\n\r\n    options = Object.assign(defaults, options);\r\n    this.options = options;\r\n  }\r\n\r\n  setObj(obj, lights, lightsUpdated) {\r\n    if (obj instanceof Face) {\r\n\r\n      if (this.options.lightEffect && (lightsUpdated || obj.normalNeedUpdate)) {\r\n        let faceNormal = obj.getWorldNormal();\r\n        let sumBrightness = 0;\r\n\r\n        lights.forEach(light => {\r\n          sumBrightness += light.calBrightness(obj.position, faceNormal, obj.backside);\r\n        });\r\n\r\n        obj.setBrightness(sumBrightness);\r\n        obj.updateElemBrightness();\r\n      };\r\n\r\n      obj.updateElemMatrix();\r\n\r\n    } else if (obj instanceof Group && obj.children.length > 0) {\r\n      obj.updateElemMatrix();\r\n      obj.children.forEach(child => this.setObj(child, lights));\r\n    }\r\n  }\r\n\r\n\r\n  render(scene, camera) {\r\n    let viewMatrixUpdated = camera.viewMatrixNeedUpdate;\r\n    let viewMatrix = camera.getViewMatrix().elements.map(num => num.toFixed(6));\r\n\r\n    let perspectiveUpdated;\r\n\r\n    if (camera.configUpdated) {\r\n      if (camera.perspective && camera.configUpdated) {\r\n        scene.container.style.perspective = `${camera.perspective}px`;\r\n      }\r\n      camera.configUpdated = false;\r\n    }\r\n\r\n    if (perspectiveUpdated || viewMatrixUpdated) {\r\n      let perspective = scene.height / 2 / Math.tan(camera.fov / 2);\r\n      \r\n      scene.viewWrapper.style.transform = `matrix3d(${viewMatrix.join(',')})`;\r\n    }\r\n    \r\n  \r\n    // 光照处理\r\n    let lightsUpdated = false;\r\n  \r\n    scene.lights.forEach(light => {\r\n      lightsUpdated = lightsUpdated || light.updated;\r\n      light.updated = false;\r\n    });\r\n    scene.lights.forEach(light => {\r\n      lightsUpdated = lightsUpdated || light.updated;\r\n      light.updated = false;\r\n    });\r\n\r\n    scene.objs.forEach(obj => {\r\n      this.setObj(obj, scene.lights, lightsUpdated);\r\n    });\r\n\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\nexport default Renderer;","import Light from './Light.js';\n\nexport default class DirectionLight extends Light {\n  constructor(position, intensity) {\n    super();\n    this.position = position || new Vector3(0, 1, 0);\n    this.intensity = intensity || 1;\n    this.updated = true;\n  }\n\n  setNeedUpdate() {\n    this.updated = true;;\n  }\n\n  setPosition(x, y, z) {\n    this.position.set(x, y, z);\n    this.setNeedUpdate();\n  }\n\n  setPositionX(x) {\n    this.position.x = x;\n    this.setNeedUpdate();\n  }\n\n  setPositionY(y) {\n    this.position.y = y;\n    this.setNeedUpdate();\n  }\n\n  setPositionZ(z) {\n    this.position.z = z;\n    this.setNeedUpdate();\n  }\n\n\n  setIntensity(intense) {\n    this.intensity = intensity;\n    setNeedUpdate();\n  }\n\n  calBrightness(position, normal, backside) {\n    // overwrite\n\n    let lightPosition = this.position.clone();;\n    // lightPosition.y *= -1; \n\n    let cosOfAngle = lightPosition.dot(normal) / (lightPosition.length() * 1);\n    let brightness = 0;\n\n    if (backside) {\n      brightness = Math.abs(cosOfAngle);\n    } else {\n      brightness = cosOfAngle < 0 ? 0 : cosOfAngle;\n    }\n\n    // console.log(brightness);\n    brightness *= this.intensity; \n\n    return brightness;\n  }\n\n}","import Light from './Light.js';\n\nexport default class AmbientLight extends Light {\n\n  constructor(intensity) {\n    super();\n    this.intensity = intensity;\n    this.updated = true;\n  }\n\n  setIntensity(intense) {\n    this.intensity = intensity;\n    setNeedUpdate();\n  }\n\n  calBrightness() {\n    return this.intensity;\n  }\n\n}","export const R360 = Math.PI * 2;\nexport const R180 = Math.PI;\nexport const R150 = Math.PI * 0.8333333333;\nexport const R120 = Math.PI * 0.6666666666;\nexport const R90 = Math.PI * 0.5;\nexport const R60 = Math.PI * 0.3333333333;\nexport const R45 = Math.PI * 0.25;\nexport const R30 = Math.PI * 0.1666666667;","import Face from '../Face.js';\nimport Group from '../Group.js';\nimport * as CONST from '../CONST.js';\n\nexport default class Box extends Group {\n  constructor(width, height, depth, color) {\n    super();\n    this.width = width;\n    this.height = height;\n    this.depth = depth;\n\n    this.faces = {\n      front: new Face(),\n      back: new Face(),\n      left: new Face(),\n      right: new Face(),\n      top: new Face(),\n      bottom: new Face()\n    };\n\n    this.setSize(width, height, depth);\n\n    for (let key in this.faces) {\n      this.faces[key].elem.style.background = color;\n      this.faces[key].elem.style.fontSize = '60px';\n      this.faces[key].elem.style.color = 'red';\n      this.faces[key].elem.style.textAlign = 'center';\n      // this.faces[key].elem.innerHTML = '<span>CSS camera<span>';\n      // this.faces[key].elem.innerHTML = 'css css css css css css';\n      this.add(this.faces[key]);\n    }\n  }\n\n  setSize(width, height, depth) {\n    this.faces.front.setPosition(0, 0, depth / 2);\n    this.faces.front.elem.style.width = width + 'px';\n    this.faces.front.elem.style.height = height + 'px';\n\n    this.faces.back.setPosition(0, 0, -depth / 2);\n    this.faces.back.rotation.x = CONST.R180;\n    this.faces.back.elem.style.width = width + 'px';\n    this.faces.back.elem.style.height = height + 'px';\n\n    this.faces.left.setPosition(-width / 2, 0, 0);\n    this.faces.left.rotation.y = -CONST.R90;\n    this.faces.left.elem.style.width = depth + 'px';\n    this.faces.left.elem.style.height = height + 'px';\n\n    this.faces.right.setPosition(width / 2, 0, 0);\n    this.faces.right.rotation.y = CONST.R90;\n    this.faces.right.elem.style.width = depth + 'px';\n    this.faces.right.elem.style.height = height + 'px';\n\n    this.faces.top.setPosition(0, height / 2, 0);\n    this.faces.top.rotation.x = -CONST.R90;\n    this.faces.top.elem.style.width = width + 'px';\n    this.faces.top.elem.style.height = depth + 'px';\n\n    this.faces.bottom.setPosition(0, -height / 2, 0);\n    this.faces.bottom.rotation.x = CONST.R90;\n    this.faces.bottom.elem.style.width = width + 'px';\n    this.faces.bottom.elem.style.height = depth + 'px';\n    this.width = width;\n    this.height = height;\n    this.depth = depth;\n  }\n\n  setColor(color) {\n    if (!color) {\n      return;\n    }\n\n    this.color = color;\n    for (let key in this.faces) {\n      this.faces[key].elem.style.color = color;\n    }\n  }\n\n}","import Face from '../Face.js';\nimport Group from '../Group.js';\nimport { Vector3 } from '../math/Vector3.js';\nimport { Matrix4 } from '../math/Matrix4.js';\nimport * as CONST from '../CONST.js';\nimport * as util from '../util/util.js';\n\nexport default class Cylinder extends Group {\n  constructor(options) {\n    super();\n\n    this.options = options;\n    // this.radiusBottom = radiusBottom;\n    // this.radiusTop = radiusTop;\n    // this.height = height;\n    // this.sideBackground = sideBackground;\n    // this.topBackground = topBackground;\n    // this.bottomBackground = bottomBackground;\n    // this.radiusSegment = radiusSegment;\n\n    this.createFaces(options);\n  }\n\n  createFaces(options) {\n\n    const { radiusTop, radiusBottom, height, radiusSegment, sideBackground, topBackground, bottomBackground } = options;\n\n    let segmentRadian = Math.PI * 2 / radiusSegment;\n    let segmentRadianHalf = segmentRadian / 2;\n    let cosSegmentRadianHalf = Math.cos(segmentRadianHalf);\n    let sinSegmentRadianHalf = Math.sin(segmentRadianHalf);\n\n    // 顶面\n    let topTriangleHeight = radiusTop * cosSegmentRadianHalf;\n    let topTriangleWidth = radiusTop * sinSegmentRadianHalf * 2;\n\n    // 底面\n    let bottomTriangleHeight = radiusBottom * cosSegmentRadianHalf;\n    let bottomTriangleWidth = radiusBottom * sinSegmentRadianHalf * 2;\n\n    let maxTriangleWidth = Math.max(topTriangleWidth, bottomTriangleWidth);\n\n    // sub\n    let endHeightSub = bottomTriangleHeight - topTriangleHeight;\n    let endWidthSub = bottomTriangleWidth - topTriangleWidth;\n    let endWidthSubHalf = endWidthSub / 2;\n    let endWidthSubHalfAbs = Math.abs(endWidthSubHalf);\n\n    // console.log(topTriangleHeight, bottomTriangleHeight);\n\n    // 侧面\n    let sideFaceRadian = Math.atan(endHeightSub / height);\n    let sideHeight = height / Math.cos(sideFaceRadian);\n\n    let sideBaseMatrix = new Matrix4().makeTranslation(0, sideHeight / 2, 0);\n\n    sideBaseMatrix.multiplyMatrices(\n      new Matrix4().makeRotationX(sideFaceRadian),\n      sideBaseMatrix\n    );\n\n    sideBaseMatrix.multiplyMatrices(\n      new Matrix4().makeTranslation(0, -height / 2, topTriangleHeight),\n      sideBaseMatrix\n    );\n\n    let sideFaceStyles = {\n      'height': sideHeight\n    };\n    if (endWidthSub > 0) {\n      Object.assign(sideFaceStyles, {\n        '-webkit-clip-path': `polygon(0 100%, ${endWidthSubHalfAbs}px 0, ${Math.abs(bottomTriangleWidth)-endWidthSubHalfAbs}px 0, 100% 100%)`,\n        'width': bottomTriangleWidth\n      });\n    } else if (endWidthSub < 0) {\n      Object.assign(sideFaceStyles, {\n        '-webkit-clip-path': `polygon(0 0, ${endWidthSubHalfAbs}px 100%, ${Math.abs(topTriangleWidth)-endWidthSubHalfAbs}px 100%, 100% 0%)`,\n        'width': topTriangleWidth\n      });\n    } else {\n      Object.assign(sideFaceStyles, {\n        'width': topTriangleWidth\n      });\n    }\n\n    if (sideBackground) {\n      Object.assign(sideFaceStyles, {\n        'background': sideBackground,\n        'background-size': `auto ${sideHeight}px`\n      });\n    }\n\n    for (let i = 0; i < radiusSegment; i++) {\n      let sideFace = new Face(null, { name: `cylinder-side${i}` });\n      let faceMatrix = new Matrix4().makeRotationAxis(\n        new Vector3(0, 1, 0),\n        i * segmentRadian\n      );\n\n\n      util.setStyles(sideFace.elem, sideFaceStyles);\n      if (sideBackground) {\n        sideFace.elem.style['background-position'] = `${-maxTriangleWidth * i}px 0`\n      }\n\n      faceMatrix.multiplyMatrices(\n        faceMatrix,\n        sideBaseMatrix\n      );\n\n      sideFace.setModelMatrix(faceMatrix);\n      // sideFace.elem.innerHTML = 'css css css css css css css css css css css css css css css css css css css css css css css css css '\n      this.add(sideFace);\n    }\n\n    if (options.open) {\n      return;\n    }\n\n    // 顶面\n    let topVertices = [];\n    let bottomVertices = [];\n    let topStyles = {\n      width: radiusTop * 2,\n      height: radiusTop * 2,\n      background: topBackground,\n      'background-size': '100% 100%'\n    };\n    let bottomStyles = {\n      width: radiusBottom * 2,\n      height: radiusBottom * 2,\n      background: bottomBackground,\n      'background-size': '100%'\n    };\n    let startRadian = -segmentRadianHalf - CONST.R90;\n\n    for (let i = 0; i < radiusSegment; i++) {\n      let currentRadian = startRadian - i * segmentRadian;\n      topVertices.push([\n        Math.cos(currentRadian) * radiusTop + radiusTop,\n        Math.sin(currentRadian) * radiusTop + radiusTop\n      ]);\n      bottomVertices.push([\n        Math.cos(currentRadian) * radiusBottom + radiusBottom,\n        Math.sin(currentRadian) * radiusBottom + radiusBottom\n      ]);\n    }\n\n    let topClipStyle = topVertices.map(vertice => { return `${vertice[0]}px ${vertice[1]}px` }).join(',');\n    let bottomClipStyle = bottomVertices.map(vertice => { return `${vertice[0]}px ${vertice[1]}px` }).join(',');\n    Object.assign(topStyles, { '-webkit-clip-path': `polygon(${topClipStyle})`} );\n    Object.assign(bottomStyles, { '-webkit-clip-path': `polygon(${bottomClipStyle})`} );\n\n    let topFace = new Face();\n    let bottomFace = new Face();\n\n    topFace.setPosition(0, -height / 2, 0);\n    topFace.setRotation(CONST.R90, 0, 0);\n\n    bottomFace.setPosition(0, height / 2, 0);\n    bottomFace.setRotation(-CONST.R90, 0, 0);\n\n\n    util.setStyles(topFace.elem, topStyles);\n    util.setStyles(bottomFace.elem, bottomStyles);\n\n    this.add(topFace);\n    this.add(bottomFace);\n\n  }\n\n\n  // setbackground(background) {\n  //   if (!background) {\n  //     return;\n  //   }\n\n  //   this.background = background;\n  //   for (let key in this.faces) {\n  //     this.faces[key].elem.style.background = background;\n  //   }\n  // }\n\n}","/**\n * @author mrdoob / http://mrdoob.com/\n * @author philogb / http://blog.thejit.org/\n * @author egraether / http://egraether.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nfunction Vector2( x, y ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\n}\n\nObject.defineProperties( Vector2.prototype, {\n\n\t\"width\" : {\n\n\t\tget: function () {\n\n\t\t\treturn this.x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.x = value;\n\n\t\t}\n\n\t},\n\n\t\"height\" : {\n\n\t\tget: function () {\n\n\t\t\treturn this.y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.y = value;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n\tisVector2: true,\n\n\tset: function ( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function () {\n\n\t\tvar min = new Vector2();\n\t\tvar max = new Vector2();\n\n\t\treturn function clampScalar( minVal, maxVal ) {\n\n\t\t\tmin.set( minVal, minVal );\n\t\t\tmax.set( maxVal, maxVal );\n\n\t\t\treturn this.clamp( min, max );\n\n\t\t};\n\n\t}(),\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t},\n\n\tlengthManhattan: function() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tangle: function () {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tvar angle = Math.atan2( this.y, this.x );\n\n\t\tif ( angle < 0 ) angle += 2 * Math.PI;\n\n\t\treturn angle;\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t},\n\n\tdistanceToManhattan: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t},\n\n\trotateAround: function ( center, angle ) {\n\n\t\tvar c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tvar x = this.x - center.x;\n\t\tvar y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n\nexport { Vector2 };\n","import Face from './Face.js';\r\nimport Group from './Group.js';\r\nimport Scene from './Scene.js';\r\nimport Camera from './Camera.js';\r\nimport Renderer from './Renderer.js';\r\nimport Light from './Light.js'\r\nimport DirectionLight from './DirectionLight.js'\r\nimport AmbientLight from './AmbientLight.js'\r\n\r\nimport Box from './geometry/Box.js'\r\nimport Cylinder from './geometry/Cylinder.js'\r\nimport * as CONST from './CONST.js';\r\n\r\nimport { _Math as Math } from './math/Math.js';\r\nimport { Vector2 } from './math/Vector2.js';\r\nimport { Vector3 } from './math/Vector3.js';\r\nimport { Matrix4 } from './math/Matrix4.js';\r\nimport { Euler } from './math/Euler.js';\r\nimport { Quaternion } from './math/Quaternion.js';\r\n\r\nexport {\r\n  Face, Group, Scene, Camera, Renderer, \r\n  AmbientLight, DirectionLight,\r\n  Box, Cylinder,\r\n  CONST,\r\n  Math, Vector2, Vector3, Matrix4, Euler, Quaternion\r\n};"],"sourceRoot":""}